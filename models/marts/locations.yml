semantic_models:
  - name: locations
    description: |
      Location dimension table. The grain of the table is one row per location.
    model: ref('locations')
    defaults:
      agg_time_dimension: opened_date
    entities:
      - name: location
        type: primary
        expr: location_id
    dimensions:
      - name: location_name
        type: categorical
      - name: opened_date
        expr: opened_date
        type: time
        type_params:
          time_granularity: day
    measures:
      - name: average_tax_rate
        description: Average tax rate.
        expr: tax_rate
        agg: average
models:
  - name: locations
    description: Location dimension table containing details about all store locations. One row per location.
    meta:
      sst:
        cortex_searchable: false
        synonyms:
          - location details
          - store opening dates
          - average tax rates by location
          - location-specific information
        primary_key: location_id

    columns:
      - name: location_id
        description: The unique identifier for each location.
        meta:
          sst:
            column_type: dimension
            data_type: TEXT
            synonyms:
              - location identifier
              - location code
              - location unique ID
              - location key
            sample_values:
              - 1ce7ac35-d296-4e34-89c4-bf92aa2fe751
              - 39b38c24-679d-4217-b676-a4a0e64c8477
              - 09fdfbaf-3ec6-408d-93f4-1efc535d9938
              - 4b6c2304-2b9e-41e4-942a-cf11a1819378
              - 40e6ddd6-b8f6-4e17-8bd6-5e53966809d2
              - da506490-1e2f-4fe8-8426-f1eee65af28a
            is_enum: true

      - name: location_name
        description: The name of the location (typically the city name).
        meta:
          sst:
            column_type: dimension
            data_type: TEXT
            synonyms:
              - location name
              - city name
              - location title
              - city
            sample_values:
              - San Francisco
              - Los Angeles
              - New Orleans
              - Brooklyn
              - Chicago
              - Philadelphia
            is_enum: true

      - name: tax_rate
        description: The sales tax rate for this location (as a decimal, e.g., 0.06 for 6%).
        meta:
          sst:
            column_type: fact
            data_type: FLOAT
            synonyms:
              - tax rate
              - tax percentage
              - sales tax rate
              - tax amount
            sample_values:
              - '0.06'
              - '0.0625'
              - '0.04'
              - '0.075'
              - '0.08'
            is_enum: false

      - name: opened_date
        description: The date when this location was opened.
        meta:
          sst:
            column_type: time_dimension
            data_type: TIMESTAMP_NTZ
            synonyms:
              - opening date
              - date opened
              - start date
              - opening timestamp
            sample_values:
              - '2018-05-09 00:00:00'
              - '2018-04-29 00:00:00'
              - '2019-03-10 00:00:00'
              - '2019-09-13 00:00:00'
              - '2016-09-01 00:00:00'
              - '2017-03-12 00:00:00'
            is_enum: false
